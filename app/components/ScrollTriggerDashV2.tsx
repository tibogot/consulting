"use client";

import { useRef } from "react";
import { useGSAP } from "@gsap/react";
import { gsap } from "@/lib/gsapConfig";

export default function ScrollTriggerDashV2() {
  const containerRef = useRef<HTMLDivElement>(null);
  const logoContainerRef = useRef<HTMLDivElement>(null);
  const contentSectionRef = useRef<HTMLDivElement>(null);

  useGSAP(
    () => {
      if (!logoContainerRef.current || !contentSectionRef.current) return;

      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: containerRef.current,
          start: "top top",
          end: "+=200%",
          scrub: 1,
          pin: true,
        },
      });

      // SVG scale-up transition effect - Clear Street style
      tl.to(logoContainerRef.current, {
        scale: 100,
        transformOrigin: "center center",
        ease: "none",
      })
      .to(
        logoContainerRef.current,
        {
          opacity: 0,
          ease: "none",
        },
        "-=0.3"
      );

      // Reveal content as SVG scales
      gsap.fromTo(
        contentSectionRef.current,
        {
          opacity: 0,
        },
        {
          opacity: 1,
          scrollTrigger: {
            trigger: containerRef.current,
            start: "50% top",
            end: "100% top",
            scrub: 1,
          },
        }
      );
    },
    { scope: containerRef }
  );

  return (
    <div className="w-full">
      {/* Hero Section with SVG Scale Transition */}
      <div ref={containerRef} className="relative w-full h-screen overflow-hidden">
        {/* SVG Logo Container - starts centered, scales up dramatically */}
        <div
          ref={logoContainerRef}
          className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[120px] z-10"
        >
          <svg
            viewBox="0 0 201 61"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="w-full h-full"
          >
            <path
              d="M187.043 35.7921C187.142 38.079 185.608 40.0739 182.888 41.2903C181.255 41.9715 179.425 42.3121 177.545 42.3121C175.715 42.3121 173.736 41.9715 172.104 41.2416C169.631 40.1225 167.751 38.2249 166.91 36.0354C168.147 35.8408 169.433 35.6461 170.669 35.4515C171.312 36.4733 172.351 37.3491 173.637 37.933C175.962 39.0034 179.079 39.0034 181.404 37.9816C181.997 37.6897 183.432 36.9599 183.382 35.9381C183.382 35.0623 182.393 33.8945 180.513 33.262C179.672 32.97 178.584 32.7754 177.397 32.5808C174.429 32.0942 170.719 31.4617 168.839 28.4936C167.8 26.8393 167.602 25.0877 168.245 23.4333C168.987 21.5844 170.867 20.076 173.242 19.4435C176.457 18.5677 180.167 19.0056 182.888 20.6112C184.916 21.779 186.4 23.5793 187.043 25.5256C185.806 25.7688 184.619 26.0608 183.432 26.3041C182.987 25.2823 182.146 24.3578 181.057 23.7253C179.128 22.6062 176.457 22.3142 174.231 22.8981C172.945 23.2387 171.956 23.9686 171.659 24.7471C171.411 25.3309 171.51 25.9148 171.956 26.596C172.945 28.153 175.517 28.5909 178.04 29.0288C179.376 29.2235 180.612 29.4667 181.75 29.856C184.866 30.9264 186.944 33.262 187.043 35.7921Z"
              fill="white"
            />
            <path
              d="M144.211 32.3862V19.0056H147.872V32.3862C147.872 35.8894 150.741 38.7115 154.302 38.7115C157.814 38.7115 160.684 35.8894 160.684 32.3862V19.0056H164.394V32.3862C164.394 37.8844 159.843 42.3121 154.302 42.3121C148.712 42.3121 144.211 37.8844 144.211 32.3862Z"
              fill="white"
            />
            <path
              d="M135.843 46.1505C136.684 45.3219 137.278 44.3957 137.674 43.3721L140.892 44.5907C140.15 46.5892 138.813 48.2953 136.932 49.6601C134.902 51.1224 132.526 51.9511 130.1 51.9511C128.02 51.9511 125.941 51.3174 124.159 50.245C121.783 48.734 120.149 46.8817 119.307 44.4445L122.575 43.2259C123.02 44.542 123.812 45.6631 124.901 46.5892C126.387 47.8566 128.119 48.4415 130.149 48.4415C132.328 48.4415 134.258 47.6616 135.843 46.1505ZM141.536 19C141.536 20.8523 141.09 22.7046 140.199 24.3131L140.001 24.6543L140.199 25.0443C141.09 26.6529 141.536 28.4564 141.536 30.3087C141.586 33.2821 140.397 36.1092 138.219 38.254C136.041 40.3987 133.169 41.5686 130.1 41.5686C123.763 41.5686 118.614 36.5479 118.614 30.3574C118.565 28.4076 119.109 26.4579 120.05 24.7518C120.743 23.5332 121.684 22.4609 122.773 21.5347C124.802 19.9262 127.377 19 129.951 19C132.427 19 134.753 19.7312 136.734 21.1448L137.674 21.7784L137.922 20.7061C138.021 20.1211 138.07 19.5849 138.07 19H141.536ZM135.793 35.8168C137.377 34.2082 138.219 32.0147 138.07 29.8212C138.021 29.1388 137.922 28.5051 137.674 27.8715C137.229 26.6041 136.486 25.4343 135.447 24.5081C133.961 23.1433 132.13 22.4121 130.05 22.4121H129.902C127.971 22.4609 126.09 23.192 124.604 24.5081C123.614 25.4343 122.872 26.6041 122.426 27.8715C122.179 28.6514 122.03 29.48 122.03 30.3087C122.08 32.4534 122.921 34.4519 124.406 35.9143C125.892 37.3766 127.921 38.1565 130.1 38.1565H130.248C132.278 38.1565 134.308 37.3278 135.793 35.8168Z"
              fill="white"
            />
            <path
              d="M115.115 32.0942C116.104 36.4733 116.104 40.5605 116.104 41.8742C116.104 42.1661 116.104 42.3121 116.104 42.3121H112.344C112.394 41.9715 112.394 41.6309 112.443 41.2417C112.592 39.5873 112.493 38.0303 112.344 36.6679C111.652 37.6897 110.86 38.6142 109.871 39.3441C106.31 42.4581 100.967 43.0906 96.7624 40.7551C92.8545 38.5655 90.4306 33.9918 90.9252 29.5154C91.4199 25.1363 94.7342 21.0978 99.0873 19.7841C102.55 18.665 107.744 19.2489 110.712 22.4116C110.811 22.5089 110.959 22.6548 111.058 22.7522C111.504 23.2874 111.899 23.8226 112.344 24.3092C112.493 23.2874 112.542 22.071 112.493 20.7572C112.443 20.1734 112.394 19.5408 112.344 19.0056H115.906C115.906 19.0056 115.906 19.0543 115.906 19.1516C115.906 19.4922 115.956 20.5626 115.956 21.9737C115.906 24.2605 115.659 27.5692 114.818 30.8291C114.917 31.2184 115.016 31.6563 115.115 32.0942ZM105.815 37.6897C108.338 36.4247 110.316 33.6999 111.009 30.6345L111.058 30.4399L111.009 30.2939C110.267 26.596 106.804 22.8008 102.402 22.8008C102.055 22.8008 101.66 22.8495 101.363 22.8981C97.8506 23.336 94.9321 26.3041 94.4869 29.71C94.0417 33.1647 96.1687 36.7166 99.4336 37.9817C100.423 38.3709 101.412 38.5655 102.352 38.5655C103.539 38.5655 104.727 38.2736 105.815 37.6897Z"
              fill="white"
            />
            <path
              d="M89.2746 19.0056C89.8188 19.0056 90.3629 19.0543 90.9071 19.1029V22.6548C90.3629 22.5575 89.8188 22.5089 89.2746 22.5089C87.0486 22.5089 84.971 23.336 83.4375 24.8444C81.904 26.3527 81.0136 28.445 81.0136 30.6345V42.3608H77.452V19.0056H81.0136V22.3142C83.1407 20.2707 86.0593 19.0056 89.2746 19.0056Z"
              fill="white"
            />
            <path
              d="M73.7149 32.0942C74.7042 36.4733 74.7042 40.5605 74.7042 41.8742C74.7042 42.1661 74.7042 42.3121 74.7042 42.3121H70.9447C70.9942 41.9715 70.9942 41.6309 71.0437 41.2417C71.1921 39.5873 71.0931 38.0303 70.9447 36.6679C70.2522 37.6897 69.4607 38.6142 68.4714 39.3441C64.9098 42.4581 59.5673 43.0906 55.3626 40.7551C51.4547 38.5655 49.0308 33.9918 49.5255 29.5154C50.0201 25.1363 53.3344 21.0978 57.6875 19.7841C61.1502 18.665 66.3443 19.2489 69.3123 22.4116C69.4113 22.5089 69.5597 22.6548 69.6586 22.7522C70.1038 23.2874 70.4995 23.8226 70.9447 24.3092C71.0931 23.2874 71.1426 22.071 71.0931 20.7572C71.0437 20.1734 70.9942 19.5408 70.9447 19.0056H74.5064C74.5064 19.0056 74.5064 19.0543 74.5064 19.1516C74.5064 19.4922 74.5558 20.5626 74.5558 21.9737C74.5064 24.2605 74.259 27.5692 73.4181 30.8291C73.517 31.2184 73.616 31.6563 73.7149 32.0942ZM64.4151 37.6897C66.9379 36.4247 68.9166 33.6999 69.6091 30.6345L69.6586 30.4399L69.6091 30.2939C68.8671 26.596 65.4044 22.8008 61.0019 22.8008C60.6556 22.8008 60.2598 22.8495 59.963 22.8981C56.4509 23.336 53.5323 26.3041 53.0871 29.71C52.6419 33.1647 54.769 36.7166 58.0338 37.9817C59.0232 38.3709 60.0125 38.5655 60.9524 38.5655C62.1396 38.5655 63.3268 38.2736 64.4151 37.6897Z"
              fill="white"
            />
            <path
              d="M23.0761 29.0775C22.0867 24.7471 22.0867 20.7572 22.1362 19.4435C22.1362 19.1516 22.1362 19.0056 22.1362 19.0056H25.7968C25.7968 19.3462 25.7473 19.6868 25.6978 20.076C25.5989 21.7304 25.6484 23.2387 25.7968 24.6011C26.4893 23.5793 27.2808 22.7035 28.2207 21.9737L28.2701 21.925C31.7328 18.9083 36.9763 18.2758 41.1316 20.5626C44.99 22.7035 47.3644 27.2286 46.9192 31.6077C46.4246 35.9381 43.1103 39.8793 38.8561 41.2417C35.4429 42.3121 30.3477 41.7282 27.4292 38.6142C27.2808 38.5169 27.1819 38.4196 27.0829 38.2736C26.6377 37.7384 26.242 37.2518 25.7968 36.7166C25.6978 37.787 25.5989 38.9548 25.6484 40.2199C25.6978 40.8524 25.7473 51.4648 25.7968 52H22.2846C22.2846 51.6107 22.2351 40.4632 22.2846 39.0521C22.3341 36.7653 22.5814 33.5053 23.3729 30.3426C23.2739 29.9533 23.175 29.5154 23.0761 29.0775ZM32.2275 23.5793C29.7541 24.8444 27.8249 27.4718 27.1324 30.4886C27.1324 30.5372 27.1324 30.5372 27.1324 30.5372L27.0829 30.6832L27.1324 30.8778C27.8744 34.4784 31.2382 38.225 35.6407 38.225C35.987 38.225 36.2838 38.225 36.6301 38.1763C40.0928 37.6897 42.9619 34.819 43.4071 31.413C43.8028 28.0557 41.7252 24.5525 38.5098 23.2874C37.5699 22.8981 36.5806 22.7035 35.6407 22.7035C34.4535 22.7035 33.3158 22.9954 32.2275 23.5793Z"
              fill="white"
            />
            <path
              d="M19.6083 35.7921C19.7073 38.0789 18.1738 40.0739 15.4531 41.2903C13.8207 41.9715 11.9904 42.3121 10.1106 42.3121C8.28035 42.3121 6.82647 41.9715 5.19405 41.2416C2.72069 40.1225 0.840942 38.2249 0 36.0354C1.23668 35.8407 2.52283 35.6461 3.7595 35.4515C4.40258 36.4733 5.44139 37.3491 6.72753 37.933C9.05249 39.0034 11.6441 39.0034 13.9691 37.9816C14.5627 37.6897 15.9972 36.9598 15.9478 35.9381C15.9478 35.0622 14.9584 33.8945 13.0787 33.2619C12.2377 32.97 11.1494 32.7754 9.96223 32.5808C6.9942 32.0942 3.07424 31.4617 1.19449 28.4936C0.155682 26.8393 -0.0421862 25.0876 0.600887 23.4333C1.34289 21.5844 3.22265 20.076 5.59707 19.4435C8.81243 18.5677 12.7324 19.0056 15.4531 20.6112C17.4812 21.779 18.9653 23.5793 19.6083 25.5255C18.3716 25.7688 17.1844 26.0608 15.9972 26.3041C15.552 25.2823 14.7111 24.3578 13.6228 23.7253C11.6936 22.6061 8.81243 22.3142 6.58641 22.8981C5.30027 23.2387 4.31092 23.9685 4.01412 24.747C3.76678 25.3309 3.86572 25.9148 4.31092 26.596C5.30027 28.153 8.08248 28.5909 10.6053 29.0288C11.9409 29.2234 13.1776 29.4667 14.3153 29.856C17.4318 30.9264 19.5094 33.2619 19.6083 35.7921Z"
              fill="white"
            />
            <path
              d="M195.906 28.7547C195.205 28.7547 194.546 28.6284 193.928 28.3759C193.31 28.1233 192.766 27.7761 192.296 27.3341C191.834 26.8843 191.471 26.3634 191.208 25.7715C190.944 25.1796 190.812 24.5482 190.812 23.8774C190.812 23.1986 190.944 22.5673 191.208 21.9832C191.471 21.3913 191.834 20.8744 192.296 20.4324C192.766 19.9826 193.31 19.6314 193.928 19.3788C194.546 19.1263 195.205 19 195.906 19C196.615 19 197.274 19.1263 197.884 19.3788C198.502 19.6314 199.042 19.9826 199.504 20.4324C199.974 20.8744 200.341 21.3913 200.604 21.9832C200.868 22.5673 201 23.1986 201 23.8774C201 24.5482 200.868 25.1796 200.604 25.7715C200.341 26.3634 199.974 26.8843 199.504 27.3341C199.042 27.7761 198.502 28.1233 197.884 28.3759C197.274 28.6284 196.615 28.7547 195.906 28.7547ZM195.906 28.0918C196.516 28.0918 197.085 27.9852 197.612 27.7721C198.148 27.5512 198.618 27.2473 199.022 26.8606C199.426 26.4739 199.739 26.028 199.961 25.5229C200.192 25.0099 200.308 24.4614 200.308 23.8774C200.308 23.2933 200.192 22.7488 199.961 22.2437C199.739 21.7307 199.426 21.2808 199.022 20.8941C198.618 20.5074 198.148 20.2075 197.612 19.9944C197.085 19.7734 196.516 19.6629 195.906 19.6629C195.296 19.6629 194.723 19.7734 194.187 19.9944C193.66 20.2075 193.194 20.5074 192.79 20.8941C192.386 21.2808 192.069 21.7307 191.838 22.2437C191.616 22.7488 191.504 23.2933 191.504 23.8774C191.504 24.4614 191.616 25.0099 191.838 25.5229C192.069 26.028 192.386 26.4739 192.79 26.8606C193.194 27.2473 193.66 27.5512 194.187 27.7721C194.723 27.9852 195.296 28.0918 195.906 28.0918Z"
              fill="white"
            />
            <path
              d="M197.493 24.6796L198.241 24.9188L198.118 25.1181C197.667 25.8356 196.889 26.2642 196.019 26.2642C194.667 26.2642 193.571 25.1978 193.571 23.8823C193.571 22.5669 194.667 21.4906 196.019 21.4906C196.879 21.4906 197.678 21.9291 198.118 22.6466L198.241 22.8359L197.493 23.0851L197.411 22.9655C197.104 22.517 196.582 22.248 196.019 22.248C195.097 22.248 194.339 22.9854 194.339 23.8823C194.339 24.7793 195.097 25.5167 196.019 25.5167C196.582 25.5167 197.104 25.2476 197.411 24.7892L197.493 24.6796Z"
              fill="white"
            />
          </svg>
        </div>
      </div>

      {/* Content Section - Revealed after SVG scales */}
      <div
        ref={contentSectionRef}
        className="relative w-full min-h-screen bg-gradient-to-b from-transparent to-black/20"
      >
        <div className="w-[70%] mx-auto pt-32 pb-32">
          <h1 className="text-[5vw] font-normal leading-[120%] text-center text-white/50 mb-16">
            <span className="text-white">Happy Wednesday!</span> <br />
            It&apos;s <span className="text-white">9:00 PM</span> and too{" "}
            <span className="text-white">cold</span> <br />
            in <span className="text-white">Toronto</span>.
          </h1>
          <h1 className="text-[5vw] font-normal leading-[120%] text-center text-white/50 mb-16">
            You got <span className="text-white">2 emails</span> and have{" "}
            <br />
            <span className="text-white">2 meetings</span> today!
          </h1>
          <div className="grid grid-cols-2 gap-8 mt-32">
            <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-8 h-64">
              <h3 className="text-white text-2xl mb-4">Card 1</h3>
              <p className="text-white/70">Sample content area</p>
            </div>
            <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-8 h-64">
              <h3 className="text-white text-2xl mb-4">Card 2</h3>
              <p className="text-white/70">Sample content area</p>
            </div>
            <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-8 h-64">
              <h3 className="text-white text-2xl mb-4">Card 3</h3>
              <p className="text-white/70">Sample content area</p>
            </div>
            <div className="bg-white/10 backdrop-blur-sm rounded-2xl p-8 h-64">
              <h3 className="text-white text-2xl mb-4">Card 4</h3>
              <p className="text-white/70">Sample content area</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
